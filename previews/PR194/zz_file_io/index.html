<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>file_io · moment_kinetics</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">moment_kinetics</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../constraints_on_normalized_distribution_function/">Constraints on normalized distribution function</a></li><li><a class="tocitem" href="../debugging-hints/">Debugging</a></li><li><a class="tocitem" href="../developing/">Developing</a></li><li><a class="tocitem" href="../external_sources_notes/">External sources</a></li><li><a class="tocitem" href="../geometry/">Magnetic Geometry</a></li><li><a class="tocitem" href="../getting_started/">Getting started</a></li><li><a class="tocitem" href="../input_options/">Input Options</a></li><li><a class="tocitem" href="../machine_setup_notes/"><code>machine_setup</code> notes</a></li><li><a class="tocitem" href="../manual_setup/">Manual setup</a></li><li><a class="tocitem" href="../moment_kinetic_equations/">Moment kinetic equations</a></li><li><a class="tocitem" href="../parameter_scans/">Parameter scans</a></li><li><a class="tocitem" href="../post_processing_notes/">Post processing</a></li><li><a class="tocitem" href="../shared_memory_debugging/">Shared memory debugging</a></li><li><a class="tocitem" href="../timestepping/">Timestepping</a></li><li><a class="tocitem" href="../wall_boundary_conditions/">Wall boundary conditions with moment constraints</a></li><li><a class="tocitem" href="../zz_advection/"><code>advection</code></a></li><li><a class="tocitem" href="../zz_analysis/"><code>analysis</code></a></li><li><a class="tocitem" href="../zz_array_allocation/"><code>array_allocation</code></a></li><li><a class="tocitem" href="../zz_bgk/"><code>bgk</code></a></li><li><a class="tocitem" href="../zz_calculus/"><code>calculus</code></a></li><li><a class="tocitem" href="../zz_charge_exchange/"><code>charge_exchange</code></a></li><li><a class="tocitem" href="../zz_chebyshev/"><code>chebyshev</code></a></li><li><a class="tocitem" href="../zz_clenshaw_curtis/"><code>clenshaw_curtis</code></a></li><li><a class="tocitem" href="../zz_command_line_options/"><code>command_line_options</code></a></li><li><a class="tocitem" href="../zz_communication/"><code>communication</code></a></li><li><a class="tocitem" href="../zz_constants/"><code>constants</code></a></li><li><a class="tocitem" href="../zz_continuity/"><code>continuity</code></a></li><li><a class="tocitem" href="../zz_coordinates/"><code>coordinates</code></a></li><li><a class="tocitem" href="../zz_debugging/"><code>debugging</code></a></li><li><a class="tocitem" href="../zz_derivatives/"><code>derivatives</code></a></li><li><a class="tocitem" href="../zz_em_fields/"><code>em_fields</code></a></li><li><a class="tocitem" href="../zz_energy_equation/"><code>energy_equation</code></a></li><li><a class="tocitem" href="../zz_external_sources/"><code>external_sources</code></a></li><li class="is-active"><a class="tocitem" href><code>file_io</code></a></li><li><a class="tocitem" href="../zz_finite_differences/"><code>finite_differences</code></a></li><li><a class="tocitem" href="../zz_fokker_planck/"><code>fokker_planck</code></a></li><li><a class="tocitem" href="../zz_fokker_planck_calculus/"><code>fokker_planck_calculus</code></a></li><li><a class="tocitem" href="../zz_fokker_planck_test/"><code>fokker_planck_test</code></a></li><li><a class="tocitem" href="../zz_force_balance/"><code>force_balance</code></a></li><li><a class="tocitem" href="../zz_gauss_legendre/"><code>gauss_legendre</code></a></li><li><a class="tocitem" href="../zz_geo/"><code>geo</code></a></li><li><a class="tocitem" href="../zz_initial_conditions/"><code>initial_conditions</code></a></li><li><a class="tocitem" href="../zz_input_structs/"><code>input_structs</code></a></li><li><a class="tocitem" href="../zz_interpolation/"><code>interpolation</code></a></li><li><a class="tocitem" href="../zz_ionization/"><code>ionization</code></a></li><li><a class="tocitem" href="../zz_krook_collisions/"><code>krook_collisions</code></a></li><li><a class="tocitem" href="../zz_load_data/"><code>load_data</code></a></li><li><a class="tocitem" href="../zz_looping/"><code>looping</code></a></li><li><a class="tocitem" href="../zz_makie_post_processing/"><code>makie_post_processing</code></a></li><li><a class="tocitem" href="../zz_manufactured_solns/"><code>manufactured_solns</code></a></li><li><a class="tocitem" href="../zz_moment_constraints/"><code>moment_constraints</code></a></li><li><a class="tocitem" href="../zz_moment_kinetics/"><code>moment_kinetics</code></a></li><li><a class="tocitem" href="../zz_moment_kinetics_input/"><code>moment_kinetics_input</code></a></li><li><a class="tocitem" href="../zz_moment_kinetics_structs/"><code>moment_kinetics_structs</code></a></li><li><a class="tocitem" href="../zz_neutral_r_advection/"><code>neutral_r_advection</code></a></li><li><a class="tocitem" href="../zz_neutral_vz_advection/"><code>neutral_vz_advection</code></a></li><li><a class="tocitem" href="../zz_neutral_z_advection/"><code>neutral_z_advection</code></a></li><li><a class="tocitem" href="../zz_numerical_dissipation/"><code>numerical_dissipation</code></a></li><li><a class="tocitem" href="../zz_plot_MMS_sequence/"><code>plot_MMS_sequence</code></a></li><li><a class="tocitem" href="../zz_plot_sequence/"><code>plot_sequence</code></a></li><li><a class="tocitem" href="../zz_plots_post_processing/"><code>plots_post_processing</code></a></li><li><a class="tocitem" href="../zz_quadrature/"><code>quadrature</code></a></li><li><a class="tocitem" href="../zz_r_advection/"><code>r_advection</code></a></li><li><a class="tocitem" href="../zz_reference_parameters/"><code>reference_parameters</code></a></li><li><a class="tocitem" href="../zz_runge_kutta/"><code>runge_kutta</code></a></li><li><a class="tocitem" href="../zz_source_terms/"><code>source_terms</code></a></li><li><a class="tocitem" href="../zz_time_advance/"><code>time_advance</code></a></li><li><a class="tocitem" href="../zz_type_definitions/"><code>type_definitions</code></a></li><li><a class="tocitem" href="../zz_utils/"><code>utils</code></a></li><li><a class="tocitem" href="../zz_velocity_grid_transforms/"><code>velocity_grid_transforms</code></a></li><li><a class="tocitem" href="../zz_velocity_moments/"><code>velocity_moments</code></a></li><li><a class="tocitem" href="../zz_vpa_advection/"><code>vpa_advection</code></a></li><li><a class="tocitem" href="../zz_z_advection/"><code>z_advection</code></a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href><code>file_io</code></a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href><code>file_io</code></a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mabarnes/moment_kinetics/blob/master/docs/src/zz_file_io.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="file_io"><a class="docs-heading-anchor" href="#file_io"><code>file_io</code></a><a id="file_io-1"></a><a class="docs-heading-anchor-permalink" href="#file_io" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io" href="#moment_kinetics.file_io"><code>moment_kinetics.file_io</code></a> — <span class="docstring-category">Module</span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.debug_output_counter" href="#moment_kinetics.file_io.debug_output_counter"><code>moment_kinetics.file_io.debug_output_counter</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Global counter for calls to debug_dump</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1596-L1598">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.debug_output_file" href="#moment_kinetics.file_io.debug_output_file"><code>moment_kinetics.file_io.debug_output_file</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>An nc_info instance that may be initialised for writing debug output</p><p>This is a non-const module variable, so does cause type instability, but it is only used for debugging (from <code>debug_dump()</code>) so performance is not critical.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1588-L1593">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.ascii_ios" href="#moment_kinetics.file_io.ascii_ios"><code>moment_kinetics.file_io.ascii_ios</code></a> — <span class="docstring-category">Type</span></header><section><div><p>structure containing the various input/output streams</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L37-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.io_dfns_info" href="#moment_kinetics.file_io.io_dfns_info"><code>moment_kinetics.file_io.io_dfns_info</code></a> — <span class="docstring-category">Type</span></header><section><div><p>structure containing the data/metadata needed for binary file i/o distribution function data only</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L126-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.io_moments_info" href="#moment_kinetics.file_io.io_moments_info"><code>moment_kinetics.file_io.io_moments_info</code></a> — <span class="docstring-category">Type</span></header><section><div><p>structure containing the data/metadata needed for binary file i/o moments &amp; fields only</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L52-L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.add_attribute!" href="#moment_kinetics.file_io.add_attribute!"><code>moment_kinetics.file_io.add_attribute!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Add an attribute to a file, group or variable</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L969-L971">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.append_to_dynamic_var" href="#moment_kinetics.file_io.append_to_dynamic_var"><code>moment_kinetics.file_io.append_to_dynamic_var</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">append_to_dynamic_var(io_var, data, t_idx, parallel_io, coords...; only_root=false)</code></pre><p>Append <code>data</code> to the dynamic variable <code>io_var</code>. The time-index of the data being appended is <code>t_idx</code>. <code>parallel_io</code> indicates whether parallel I/O is being used. <code>coords...</code> is used to get the ranges to write from/to (needed for parallel I/O) - the entries in the <code>coords</code> tuple can be either <code>coordinate</code> instances or integers (for an integer <code>n</code> the range is <code>1:n</code>).</p><p>If <code>only_root=true</code> is passed, the data is only written once - from the global root process if parallel I/O is being used (if parallel I/O is not used, this has no effect as each file is only written by one process).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1210-L1222">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.check_io_implementation-Tuple{Any}" href="#moment_kinetics.file_io.check_io_implementation-Tuple{Any}"><code>moment_kinetics.file_io.check_io_implementation</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">check_io_implementation(binary_format)</code></pre><p>Check that an implementation is available for <code>binary_format</code>, raising an error if not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L165-L169">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.create_dynamic_variable!" href="#moment_kinetics.file_io.create_dynamic_variable!"><code>moment_kinetics.file_io.create_dynamic_variable!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_dynamic_variable!(file_or_group, name, type, coords::coordinate...;
                         n_ion_species=1, n_neutral_species=1,
                         diagnostic_var_size=nothing, description=nothing,
                         units=nothing)</code></pre><p>Create a time-evolving variable in <code>file_or_group</code> named <code>name</code> of type <code>type</code>. <code>coords</code> are the coordinates corresponding to the dimensions of the array, in the order of the array dimensions. The species dimension does not have a <code>coordinate</code>, so the number of species is passed as <code>nspecies</code>. A description and/or units can be added with the keyword arguments.</p><p>If a Tuple giving an array size is passed to <code>diagnostic_var_size</code>, a &#39;diagnostic&#39; variable is created - i.e. one that does not depend on the coordinates, so is assumed to be the same on all processes and only needs to be written from the root process (for each output file).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L608-L624">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.debug_dump" href="#moment_kinetics.file_io.debug_dump"><code>moment_kinetics.file_io.debug_dump</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">debug_dump(ff, dens, upar, ppar, phi, t; istage=0, label=&quot;&quot;)
debug_dump(fvec::scratch_pdf, fields::em_fields_struct, t; istage=0, label=&quot;&quot;)</code></pre><p>Dump variables into a NetCDF file for debugging</p><p>Intended to be called more frequently than <code>write_data_to_binary()</code>, possibly several times within a timestep, so includes a <code>label</code> argument to identify the call site.</p><p>Writes to a file called <code>debug_output.h5</code> in the current directory.</p><p>Can either be called directly with the arrays to be dumped (fist signature), or using <code>scratch_pdf</code> and <code>em_fields_struct</code> structs.</p><p><code>nothing</code> can be passed to any of the positional arguments (if they are unavailable at a certain point in the code, or just not interesting). <code>t=nothing</code> will set <code>t</code> to the value saved in the previous call (or 0.0 on the first call). Passing <code>nothing</code> to the other arguments will set that array to <code>0.0</code> for this call (need to write some value so all the arrays have the same length, with an entry for each call to <code>debug_dump()</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1601-L1620">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.define_dynamic_dfn_variables!-NTuple{15, Any}" href="#moment_kinetics.file_io.define_dynamic_dfn_variables!-NTuple{15, Any}"><code>moment_kinetics.file_io.define_dynamic_dfn_variables!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>define dynamic (time-evolving) distribution function variables for writing to the output file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L931-L934">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.define_dynamic_moment_variables!-Tuple{Any, Any, Any, moment_kinetics.coordinates.coordinate, moment_kinetics.coordinates.coordinate, Vararg{Any, 5}}" href="#moment_kinetics.file_io.define_dynamic_moment_variables!-Tuple{Any, Any, Any, moment_kinetics.coordinates.coordinate, moment_kinetics.coordinates.coordinate, Vararg{Any, 5}}"><code>moment_kinetics.file_io.define_dynamic_moment_variables!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>define dynamic (time-evolving) moment variables for writing to the hdf5 file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L627-L629">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.define_io_coordinate!-NTuple{5, Any}" href="#moment_kinetics.file_io.define_io_coordinate!-NTuple{5, Any}"><code>moment_kinetics.file_io.define_io_coordinate!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>define a sub-group for each code coordinate and write to output file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L513-L515">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.define_io_coordinates!-NTuple{9, Any}" href="#moment_kinetics.file_io.define_io_coordinates!-NTuple{9, Any}"><code>moment_kinetics.file_io.define_io_coordinates!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Define coords group for coordinate information in the output file and write information about spatial and velocity space coordinate grids</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L449-L452">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.finish_file_io-Tuple{Union{Nothing, moment_kinetics.file_io.ascii_ios}, Union{Nothing, Tuple, moment_kinetics.file_io.io_moments_info}, Union{Nothing, Tuple, moment_kinetics.file_io.io_dfns_info}}" href="#moment_kinetics.file_io.finish_file_io-Tuple{Union{Nothing, moment_kinetics.file_io.ascii_ios}, Union{Nothing, Tuple, moment_kinetics.file_io.io_moments_info}, Union{Nothing, Tuple, moment_kinetics.file_io.io_dfns_info}}"><code>moment_kinetics.file_io.finish_file_io</code></a> — <span class="docstring-category">Method</span></header><section><div><p>close all opened output files</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1424-L1426">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.get_group" href="#moment_kinetics.file_io.get_group"><code>moment_kinetics.file_io.get_group</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Get a (sub-)group from a file or group</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L231-L233">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.get_subgroup_keys" href="#moment_kinetics.file_io.get_subgroup_keys"><code>moment_kinetics.file_io.get_subgroup_keys</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Get names of all subgroups</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L241-L243">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.get_variable_keys" href="#moment_kinetics.file_io.get_variable_keys"><code>moment_kinetics.file_io.get_variable_keys</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Get names of all variables</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L246-L248">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.hdf5_get_dynamic_dim_sizes-Tuple{Any, Any}" href="#moment_kinetics.file_io.hdf5_get_dynamic_dim_sizes-Tuple{Any, Any}"><code>moment_kinetics.file_io.hdf5_get_dynamic_dim_sizes</code></a> — <span class="docstring-category">Method</span></header><section><div><p>given a tuple, fixed_coords, containing all dimensions except the time dimension, get the dimension sizes and chunk sizes</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io_hdf5.jl#L187-L190">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.hdf5_get_fixed_dim_sizes-Tuple{Any, Any}" href="#moment_kinetics.file_io.hdf5_get_fixed_dim_sizes-Tuple{Any, Any}"><code>moment_kinetics.file_io.hdf5_get_fixed_dim_sizes</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get sizes of fixed dimensions and chunks (i.e. everything but time) for I/O</p><p><code>coords</code> should be a tuple whose elements are coordinate structs or integers (e.g. number of species).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io_hdf5.jl#L166-L171">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.input_option_error-Tuple{Any, Any}" href="#moment_kinetics.file_io.input_option_error-Tuple{Any, Any}"><code>moment_kinetics.file_io.input_option_error</code></a> — <span class="docstring-category">Method</span></header><section><div><p>accepts an option name which has been identified as problematic and returns an appropriate error message</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1568-L1571">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.io_has_parallel" href="#moment_kinetics.file_io.io_has_parallel"><code>moment_kinetics.file_io.io_has_parallel</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">io_has_parallel(Val(binary_format))</code></pre><p>Test if the backend supports parallel I/O.</p><p><code>binary_format</code> should be one of the values of the <code>binary_format_type</code> enum</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L145-L151">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.is_group" href="#moment_kinetics.file_io.is_group"><code>moment_kinetics.file_io.is_group</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Test if a member of a (sub-)group is a group</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L236-L238">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.open_ascii_output_file-Tuple{Any, Any}" href="#moment_kinetics.file_io.open_ascii_output_file-Tuple{Any, Any}"><code>moment_kinetics.file_io.open_ascii_output_file</code></a> — <span class="docstring-category">Method</span></header><section><div><p>opens an output file with the requested prefix and extension and returns the corresponding io stream (identifier)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1579-L1582">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.open_output_file-NTuple{4, Any}" href="#moment_kinetics.file_io.open_output_file-NTuple{4, Any}"><code>moment_kinetics.file_io.open_output_file</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Open an output file, selecting the backend based on io_option</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L982-L984">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.open_output_file_implementation" href="#moment_kinetics.file_io.open_output_file_implementation"><code>moment_kinetics.file_io.open_output_file_implementation</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Low-level function to open a binary output file</p><p>Each implementation (HDF5, NetCDF, etc.) defines a method of this function to open a file of the corresponding type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L974-L979">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.reopen_dfns_io-Tuple{Any}" href="#moment_kinetics.file_io.reopen_dfns_io-Tuple{Any}"><code>moment_kinetics.file_io.reopen_dfns_io</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Reopen an existing distribution-functions output file to append more data</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1159-L1161">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.reopen_moments_io-Tuple{Any}" href="#moment_kinetics.file_io.reopen_moments_io-Tuple{Any}"><code>moment_kinetics.file_io.reopen_moments_io</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Reopen an existing moments output file to append more data</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1058-L1060">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.reopen_output_file-Tuple{Any, Any, Any}" href="#moment_kinetics.file_io.reopen_output_file-Tuple{Any, Any, Any}"><code>moment_kinetics.file_io.reopen_output_file</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Re-open an existing output file, selecting the backend based on io_option</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L992-L994">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.setup_dfns_io-NTuple{23, Any}" href="#moment_kinetics.file_io.setup_dfns_io-NTuple{23, Any}"><code>moment_kinetics.file_io.setup_dfns_io</code></a> — <span class="docstring-category">Method</span></header><section><div><p>setup file i/o for distribution function variables</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1104-L1106">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.setup_file_io-NTuple{19, Any}" href="#moment_kinetics.file_io.setup_file_io-NTuple{19, Any}"><code>moment_kinetics.file_io.setup_file_io</code></a> — <span class="docstring-category">Method</span></header><section><div><p>open the necessary output files</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L183-L185">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.setup_moments_io-NTuple{22, Any}" href="#moment_kinetics.file_io.setup_moments_io-NTuple{22, Any}"><code>moment_kinetics.file_io.setup_moments_io</code></a> — <span class="docstring-category">Method</span></header><section><div><p>setup file i/o for moment variables</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1010-L1012">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.write_Dict_to_section-Tuple{Any, Any, Any}" href="#moment_kinetics.file_io.write_Dict_to_section-Tuple{Any, Any, Any}"><code>moment_kinetics.file_io.write_Dict_to_section</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">write_Dict_to_section(section_io, section_dict, parallel_io)</code></pre><p>Write the contents of <code>section_dict</code> into the I/O group <code>section_io</code>.</p><p>Any nested Dicts in <code>section_dict</code> are written to subsections.</p><p>All the keys in <code>section_dict</code> (and any nested Dicts) should be Strings.</p><p><code>parallel_io</code> is a Bool indicating whether parallel I/O is being used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L387-L397">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.write_boundary_distributions!-NTuple{10, Any}" href="#moment_kinetics.file_io.write_boundary_distributions!-NTuple{10, Any}"><code>moment_kinetics.file_io.write_boundary_distributions!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Write the distributions that may be used for boundary conditions to the output file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L421-L423">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.write_data_to_ascii-Tuple{Any, Any, Any, Any, Any, Any, Any, Any, Any, Union{Nothing, moment_kinetics.file_io.ascii_ios}}" href="#moment_kinetics.file_io.write_data_to_ascii-Tuple{Any, Any, Any, Any, Any, Any, Any, Any, Any, Union{Nothing, moment_kinetics.file_io.ascii_ios}}"><code>moment_kinetics.file_io.write_data_to_ascii</code></a> — <span class="docstring-category">Method</span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1456">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.write_dfns_data_to_binary-NTuple{18, Any}" href="#moment_kinetics.file_io.write_dfns_data_to_binary-NTuple{18, Any}"><code>moment_kinetics.file_io.write_dfns_data_to_binary</code></a> — <span class="docstring-category">Method</span></header><section><div><p>write time-dependent distribution function data to the binary output file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1385-L1387">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.write_f_ascii-NTuple{5, Any}" href="#moment_kinetics.file_io.write_f_ascii-NTuple{5, Any}"><code>moment_kinetics.file_io.write_f_ascii</code></a> — <span class="docstring-category">Method</span></header><section><div><p>write the function f(z,vpa) at this time slice</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1478-L1480">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.write_fields_ascii-NTuple{5, Any}" href="#moment_kinetics.file_io.write_fields_ascii-NTuple{5, Any}"><code>moment_kinetics.file_io.write_fields_ascii</code></a> — <span class="docstring-category">Method</span></header><section><div><p>write electrostatic potential at this time slice</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1549-L1551">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.write_input!-Tuple{Any, Any, Any}" href="#moment_kinetics.file_io.write_input!-Tuple{Any, Any, Any}"><code>moment_kinetics.file_io.write_input!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Save info from the dict with input settings to the output file</p><p>Note: assumes all keys in <code>input_dict</code> are strings.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L409-L413">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.write_moments_charged_ascii-NTuple{6, Any}" href="#moment_kinetics.file_io.write_moments_charged_ascii-NTuple{6, Any}"><code>moment_kinetics.file_io.write_moments_charged_ascii</code></a> — <span class="docstring-category">Method</span></header><section><div><p>write moments of the charged species distribution function f at this time slice</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1503-L1505">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.write_moments_data_to_binary-NTuple{11, Any}" href="#moment_kinetics.file_io.write_moments_data_to_binary-NTuple{11, Any}"><code>moment_kinetics.file_io.write_moments_data_to_binary</code></a> — <span class="docstring-category">Method</span></header><section><div><p>write time-dependent moments data to the binary output file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1231-L1233">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.write_moments_neutral_ascii-NTuple{6, Any}" href="#moment_kinetics.file_io.write_moments_neutral_ascii-NTuple{6, Any}"><code>moment_kinetics.file_io.write_moments_neutral_ascii</code></a> — <span class="docstring-category">Method</span></header><section><div><p>write moments of the neutral species distribution function f_neutral at this time slice</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L1526-L1528">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.write_overview!-NTuple{8, Any}" href="#moment_kinetics.file_io.write_overview!-NTuple{8, Any}"><code>moment_kinetics.file_io.write_overview!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>write some overview information for the simulation to the binary file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L259-L261">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.write_provenance_tracking_info!-NTuple{6, Any}" href="#moment_kinetics.file_io.write_provenance_tracking_info!-NTuple{6, Any}"><code>moment_kinetics.file_io.write_provenance_tracking_info!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Write provenance tracking information, to allow runs to be reproduced.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L303-L305">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="moment_kinetics.file_io.write_single_value!" href="#moment_kinetics.file_io.write_single_value!"><code>moment_kinetics.file_io.write_single_value!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">write_single_value!(file_or_group, name, value; description=nothing, units=nothing)</code></pre><p>Write a single variable to a file or group. If a description or units are passed, add as attributes of the variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mabarnes/moment_kinetics/blob/54a0773e1e5cda18c995dace7b4578db6eb599fb/moment_kinetics/src/file_io.jl#L251-L256">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../zz_external_sources/">« <code>external_sources</code></a><a class="docs-footer-nextpage" href="../zz_finite_differences/"><code>finite_differences</code> »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 25 April 2024 14:51">Thursday 25 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
